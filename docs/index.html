<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ★★★  SEO  ★★★ -->
  <title>坦克世界俄服汉化安装器 - 一键安装 v1.36 最新版 | 支持 Win7 / Win10 | onlyax</title>
  <meta name="description" content="2025 最新《坦克世界》俄服 (Lesta 版) 汉化安装工具，支持 Win10 / Win7，一键安装、完整中文、安全卸载，最新版本 v1.36。" />
  <meta name="keywords"
    content="坦克世界俄服汉化, 坦克世界, 坦克世界俄服, World of Tanks, WoT RU, WoT Lesta, 汉化补丁, 中文补丁, 坦克世界 RU 汉化, Lesta 服, RU 服安装器, 坦克世界 RU 服下载, 汉化工具, 坦克世界中文语言包, 坦克世界俄服安装器, WoT RU 汉化教程, WoT RU 一键安装, 坦克世界 RU 服客户端, 坦克世界 RU 中文, worldoftanks 中文, RU 服客户端汉化, WoT RU v1.36 补丁, 坦克世界 RU 支持 Win7, 坦克世界更新后汉化, WoT RU 自动识别目录, world of tanks RU patch, 坦克世界 RU 启动器, world of tanks Lesta, WoT RU 下载慢, WoT 汉化失败, wot 中文安装失败解决, WoT RU 中文修复" />

  <meta name="author" content="Allen.Xiao" />
  <meta name="robots" content="index, follow" />

  <meta name="msvalidate.01" content="B1A57134086E2135E361A783460C0EF6" />
  <meta name="baidu-site-verification" content="codeva-kaf5yC2ccU" />
  <meta name="google-site-verification" content="lQnbTTKpvvGDehhw8b3WjHnQjPAbDpvufhGYqSMf5yw" />

  <!-- 添加 canonical 链接，防止重复内容 -->
  <link rel="canonical" href="https://tanki.onlyax.com/" />

  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
  <link rel="me" href="https://github.com/AllenXiao95/tanki-i18n-metadata">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebPage",
        "headline": "坦克世界俄服汉化安装器 v2.2 - 一键安装支持最新版 v1.36"
      },
      {
        "@type": "SoftwareApplication",
        "name": "坦克世界俄服汉化安装器 - 一键安装 v1.36 最新版 | 支持 Win7 / Win10 | onlyax",
        "operatingSystem": "Windows 7, Windows 10, Windows 11",
        "applicationCategory": "UtilitiesApplication",
        "description": "适用于 Lesta / 俄服的《坦克世界》汉化补丁工具，支持 v1.36，完整汉化、安全卸载。",
        "url": "https://tanki.onlyax.com/",
        "downloadUrl": "https://dl.onlyax.com/坦克世界莱服汉化安装器_2_2_signed.exe",
        "softwareVersion": "2.2",
        "datePublished": "2025-07-21",
        "author": {
          "@type": "Person",
          "name": "Allen.Xiao"
        }
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "程序无法识别游戏目录怎么办？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "请确保您已启动过一次《坦克世界》并安装在默认路径。若仍无法识别，请点击手动选择游戏主目录（通常包含 WorldOfTanks.exe）。"
            }
          },
          {
            "@type": "Question",
            "name": "使用汉化补丁是否会被封号？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "不会。补丁仅替换本地语言文件，不包含修改游戏机制的行为。经大量用户测试，使用稳定、安全，不影响正常游戏。"
            }
          },
          {
            "@type": "Question",
            "name": "如何卸载汉化补丁？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "打开本程序后点击“卸载补丁”按钮，系统将自动恢复原始语言环境并清理相关文件，操作简单、安全无残留。"
            }
          },
          {
            "@type": "Question",
            "name": "程序支持哪些系统？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "目前支持 Windows 7、Windows 10、Windows 11，已在多个平台稳定测试，确保兼容性。"
            }
          },
          {
            "@type": "Question",
            "name": "新版本发布后是否需要重新安装？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "是的。游戏更新后语言文件可能变动，建议重新运行程序以下载适配版本补丁，保持语言一致性。"
            }
          },
          {
            "@type": "Question",
            "name": "下载速度慢或无法连接？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "目前已支持阿里云高速源，若遇卡顿请稍后再试或切换网络（如使用代理工具可能阻断下载）。"
            }
          }
        ]
      }
    ]
  }
  </script>
  <!-- Open Graph 基础卡片（适用于微信、QQ、Facebook） -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="坦克世界俄服汉化安装器 - 一键安装 v1.36 最新版 | 支持 Win7 / Win10 | onlyax" />
  <meta property="og:description" content="适用于 Lesta (俄服) 的《坦克世界》汉化补丁工具，支持一键安装、完整汉化、安全卸载。" />
  <meta property="og:url" content="https://tanki.onlyax.com/" />
  <meta property="og:image" content="https://tanki.onlyax.com/static/banner.webp" />

  <!-- Twitter 卡片（兼容 Twitter / X 分享） -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="坦克世界俄服汉化安装器 - 一键安装 v1.36 最新版 | 支持 Win7 / Win10 | onlyax" />
  <meta name="twitter:description" content="适用于 Lesta (俄服) 的《坦克世界》汉化补丁工具，支持一键安装、完整汉化、安全卸载。" />
  <meta name="twitter:image" content="https://tanki.onlyax.com/static/banner.webp" />

  <!-- 移动端优化 -->
  <meta name="mobile-web-app-capable" content="yes" />

  <link rel="stylesheet" href="index.min.css" />

  <!-- 图标 -->
  <link rel="icon" href="static/app_icon.ico" />
  <link rel="apple-touch-icon" href="static/app_icon.ico" />
</head>

<!-- Cookie 提示条：放置在 body 底部，通过 localStorage 控制显示隐藏。 -->
<div id="cookie-banner"
  class="fixed top-0 left-0 right-0 backdrop-blur-sm bg-white/10 border-b border-white/20 text-gray-100 px-4 py-3 z-50 flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0"
  style="display:none;">
  <span class="text-sm">
    我们使用 Cookie 提升浏览体验。继续访问即表示您同意我们的
    <a href="/privacy" class="underline text-blue-400 hover:text-blue-300">隐私政策</a>。
  </span>
  <button id="cookie-accept-btn"
    class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-3 py-1 rounded">
    同意
  </button>
</div>

<script>
  // Cookie Banner 逻辑：在用户未接受时显示提示条，点击同意后记录状态并隐藏
  (function () {
    const banner = document.getElementById('cookie-banner');
    const acceptBtn = document.getElementById('cookie-accept-btn');
    try {
      if (!localStorage.getItem('cookieAccepted')) {
        banner.style.display = 'flex';
      }
      acceptBtn.addEventListener('click', function () {
        localStorage.setItem('cookieAccepted', 'true');
        banner.style.display = 'none';
      });
    } catch (e) {
      acceptBtn.addEventListener('click', function () {
        banner.style.display = 'none';
      });
    }
  })();
</script>

<body class="bg-gray-900 text-white font-sans leading-relaxed tracking-wide relative overflow-x-hidden">

  <!-- █████  顶部  █████ -->
  <header
    class="text-center px-4 py-10 bg-gradient-to-br from-indigo-800 via-blue-900 to-gray-900 shadow-2xl backdrop-blur-sm">
    <h1 class="text-4xl sm:text-4xl font-bold text-white drop-shadow-md leading-snug">
      坦克世界俄服汉化安装器 v2.2
    </h1>
    <p class="mt-4 text-gray-300 text-base sm:text-lg max-w-2xl mx-auto leading-relaxed">
      适配 Windows 7 / 10 / 11，一键安装、完整汉化、安全卸载。<br class="hidden sm:inline">
      适用于坦克世界俄服/Lesta服，提供稳定可靠的中文补丁解决方案。
    </p>
  </header>

  <!-- 顶部版本信息展示块（放在 header 下方） -->
  <div class="mt-6 mx-auto max-w-2xl bg-white/5 backdrop-blur-sm rounded-lg shadow-inner px-6 py-4">
    <p class="text-sm text-blue-200 uppercase tracking-wide mb-2">当前汉化最新资源版本</p>
    <div class="divide-y divide-white/10 text-sm text-blue-100">
      <div class="flex items-center justify-between py-1">
        <div class="flex items-center gap-2">
          <span>📦</span>
          <span>RU 正式服：</span>
        </div>
        <div class="font-semibold text-white">
          v1.36.1.0 <span class="text-blue-300 font-normal ml-2">(2025 年 8 月 07 日)</span>
        </div>
      </div>
      <div class="flex items-center justify-between py-1">
        <div class="flex items-center gap-2">
          <span>🧪</span>
          <span>PT 测试服：</span>
        </div>
        <div class="font-semibold text-white">
          v1.37.0.0 <span class="text-blue-300 font-normal ml-2">(2025 年 8 月 14 日)</span>
        </div>
      </div>
    </div>
  </div>

  <!-- 广告位：顶部横幅，确保与内容区隔开 -->
  <section class="my-8 mx-auto max-w-4xl">
    <div class="bg-white/5 backdrop-blur-sm rounded-lg shadow-inner p-4 text-center">
      <p class="text-sm text-gray-400 mb-3">广告赞助本项目持续运营</p>
      <ins class="adsbygoogle" style="display:block; width:100%; height:90px; background-color:rgba(255,255,255,0.05);"
        aria-label="广告位"></ins>
    </div>
  </section>

  <!--
    以下 <main> 容纳页面主体内容。广告位不再采用侧边栏布局，而是作为独立的卡片在内容流中展示，
    以保持页面简单且兼容原始样式文件。
  -->
  <main class="max-w-4xl mx-auto p-6 space-y-12">
    <!-- ███  功能介绍  ███ -->
    <section>
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2">🛠 功能介绍</h2>
      <ul class="list-disc list-inside mt-3 text-gray-300 space-y-1">
        <li>自动识别《坦克世界》目录，简化汉化安装流程</li>
        <li>DeepSeek 模型加持</li>
        <li>支持多服版本（RU/正式服、PT/测试服）</li>
        <li>在线下载汉化补丁</li>
        <li>完整性校验安装，安全可靠</li>
        <li>提供卸载辅助功能</li>
      </ul>
    </section>

    <!-- ███  下载  ███ -->
    <section>
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2">📥 下载程序</h2>
      <p class="text-gray-300 mt-2">仅支持 Windows 系统，下载后直接运行，无需安装</p>
      <div class="grid sm:grid-cols-2 gap-4 mt-4">
        <a href="https://dl.onlyax.com/坦克世界莱服汉化安装器_2_2_signed.exe" target="_blank" class="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700
            text-white text-center py-3 rounded-md font-semibold shadow-lg
            transform hover:scale-105 transition-all">
          Windows 8 / 10 / 11 下载
        </a>

        <a href="https://dl.onlyax.com/坦克世界莱服汉化安装器_2_2_signed_win7.exe" target="_blank" class="bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700
            text-white text-center py-3 rounded-md font-semibold shadow
            transform hover:scale-105 transition-all text-sm">
          Windows 7 下载
        </a>
      </div>

      <div class="mt-3">
        <a href="https://wwso.lanzoup.com/b00od7iz7g" target="_blank"
          class="bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800
            text-white text-sm px-4 py-2 rounded-md shadow-sm transform hover:scale-105 transition-all opacity-70 inline-block">
          💾 蓝奏云备用下载 (密码: df41)
        </a>
      </div>

      <p class="text-gray-400 text-sm mt-2">
        初次使用？建议先阅读 <a href="/guide" class="underline text-blue-400 hover:text-blue-200">《使用指南》</a>
      </p>
    </section>

    <!-- ███  教学视频  ███ -->
    <section>
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2">🎥 教学视频</h2>
      <p class="text-gray-300 mt-2">
        首次使用？点击下方链接观看完整教学 「感谢老椰子同志的大力支持!」
      </p>
      👉<a href="https://b23.tv/Bs8i1cP" target="_blank"
        class="text-blue-400 underline hover:text-blue-200">点此查看教学视频</a>
    </section>

    <!-- ███  支持作者  ███ -->
    <section>
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2">💖 支持作者</h2>
      <p class="text-gray-300 mt-2">觉得好用？欢迎投喂，支持持续开发！</p>

      <!-- ★★★  二维码卡片  ★★★ -->
      <div class="flex flex-col sm:flex-row justify-center items-center gap-8 mt-4">
        <!-- 微信卡片 -->
        <div class="bg-gray-800 rounded-lg shadow-lg p-4 transform transition-transform duration-300 hover:scale-105">
          <img loading="lazy" src="static/wechat_qr.webp" alt="微信支付二维码（支持作者）" class="w-44 object-contain mx-auto" />
          <p class="mt-3 text-center text-sm text-gray-300">微信</p>
        </div>

        <!-- 支付宝卡片 -->
        <div class="bg-gray-800 rounded-lg shadow-lg p-4 transform transition-transform duration-300 hover:scale-105">
          <img loading="lazy" src="static/alipay_qr.webp" alt="支付宝支付二维码（支持作者）" class="w-44 object-contain mx-auto" />
          <p class="mt-3 text-center text-sm text-gray-300">支付宝</p>
        </div>
      </div>

      <!-- ★★★  招募支持按钮  ★★★ -->
      <div class="mt-6 text-center">
        <a href="https://tanki.su/referral/e4b86462996c4a1d9ba9c8dfd02bfe79" target="_blank" class="inline-block bg-gradient-to-r from-green-400 to-emerald-500 hover:from-green-500 hover:to-emerald-600
                  text-white text-lg font-bold py-3 px-6 rounded-lg shadow-xl
                  transform hover:scale-105 transition-all">
          🎯 点击加入招募，支持作者！
        </a>
        <p class="mt-2 text-sm text-gray-300">
          通过该链接注册账号，您在游戏中的氪金将给予作者游戏内返金
        </p>
      </div>
    </section>

    <!-- ███  更新日志  ███ -->
    <section id="changelog">
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2 mt-12">📝 更新日志</h2>
      <ul class="mt-4 space-y-2 text-gray-300 text-sm list-disc list-inside">
        <li><strong>v2.2</strong> - 2025/07/21
          <ul class="ml-5 list-disc list-inside">
            <li>修复因“毛子去WG化”导致的必要文件缺失问题。</li>
            <li>下载进度展示增强</li>
            <li>内置资源压缩</li>
          </ul>
        </li>
        <li><strong>v2.1</strong> - 2025/06/17
          <ul class="ml-5 list-disc list-inside">
            <li>下载优化：添加阿里云源(感谢妙妙盒北极佬的支持!)</li>
            <li>界面优化：控件对齐、控件组视觉分区、整体观感升级</li>
            <li>支持下载进度实时展示（百分比 + 下载速度）</li>
            <li>程序启动自动检测新版本，提示前往官网更新</li>
          </ul>
        </li>
        <li><strong>v2.0</strong> - 2025/06/11：首次公开发布</li>
      </ul>
    </section>

    <!-- ███  常见问题 FAQ  ███ -->
    <section id="faq" class="mt-16">
      <h2 class="text-xl font-semibold border-b border-gray-600 pb-2">❓ 常见问题（FAQ）</h2>
      <div class="grid md:grid-cols-2 gap-6 mt-6 text-sm text-gray-300">

        <!-- 问题 1 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">📂</span>
            <div>
              <p class="font-semibold text-white">程序无法识别游戏目录怎么办？</p>
              <p class="mt-1">请确保您已启动过一次《坦克世界》。若仍无法识别，请点击手动选择游戏主目录（通常包含 <b>Tanki.exe</b>）。</p>
            </div>
          </div>
        </div>

        <!-- 问题 2 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">🔐</span>
            <div>
              <p class="font-semibold text-white">使用汉化补丁是否会被封号？</p>
              <p class="mt-1">不会。补丁仅替换本地语言文件，不包含修改游戏机制的行为。经大量用户测试，使用稳定、安全，不影响正常游戏。</p>
            </div>
          </div>
        </div>

        <!-- 问题 3 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">🧹</span>
            <div>
              <p class="font-semibold text-white">如何卸载汉化补丁？</p>
              <p class="mt-1">打开本程序后点击“卸载补丁”按钮，系统将自动恢复原始语言环境并清理相关文件，操作简单、安全无残留。</p>
            </div>
          </div>
        </div>

        <!-- 问题 4 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">🚀</span>
            <div>
              <p class="font-semibold text-white">程序支持哪些系统？</p>
              <p class="mt-1">目前支持 Windows 7、Windows 10、Windows 11，已在多个平台稳定测试，确保兼容性。</p>
            </div>
          </div>
        </div>

        <!-- 问题 5 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">🔄</span>
            <div>
              <p class="font-semibold text-white">新版本发布后是否需要重新安装？</p>
              <p class="mt-1">是的。游戏更新后语言文件可能变动，建议重新运行程序以下载适配版本补丁，保持语言一致性。</p>
            </div>
          </div>
        </div>

        <!-- 问题 6 -->
        <div class="bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <div class="flex items-start gap-2">
            <span class="text-xl">🌐</span>
            <div>
              <p class="font-semibold text-white">下载速度慢或无法连接？</p>
              <p class="mt-1">目前已支持阿里云高速源，若遇卡顿请稍后再试或切换网络（如使用代理工具可能阻断下载）。</p>
            </div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <!-- 底部广告位：放置在正文与页脚之间 -->
  <section class="my-12 mx-auto max-w-4xl">
    <div class="bg-white/5 backdrop-blur-sm rounded-lg shadow-inner p-4 text-center">
      <p class="text-sm text-gray-400 mb-3">广告赞助本项目持续运营</p>
      <ins class="adsbygoogle" style="display:block; width:100%; height:250px; background-color:rgba(255,255,255,0.05);"
        aria-label="广告位"></ins>
    </div>
  </section>

  <footer class="text-center py-6 text-sm text-gray-500">
    Designed by @Allen | 汉化项目非商业用途，仅供学习与交流 |
    <!-- 隐私政策链接，帮助满足 AdSense 的政策要求 -->
    <a href="/privacy" class="underline text-blue-400 hover:text-blue-300">隐私政策</a>
  </footer>

  <!-- ███  QQ 侧边浮动按钮  ███ -->
  <div id="qq-toggle" class="fixed bottom-6 right-6 z-50 flex flex-col gap-3 items-end">
    <!-- 📦 妙妙盒下载 -->
    <a href="https://goover.cn" target="_blank" class="btn-toggle bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700
              text-white text-sm font-semibold py-2 px-4 rounded-full shadow-lg
              transform hover:scale-105 transition-all">
      <span class="icon">📦</span><span class="label">盒子下载</span>
    </a>

    <!-- 🚀 来找组织 -->
    <button onclick="toggleModal(true)" class="btn-toggle bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700
                   text-white text-sm font-semibold py-2 px-4 rounded-full shadow-lg
                   transform hover:scale-105 transition-all">
      <span class="icon">🚀</span><span class="label">来找组织</span>
    </button>

    <!-- ⬆️ 返回顶部 -->
    <button onclick="window.scrollTo({ top: 0, behavior: 'smooth' });" class="btn-toggle bg-gradient-to-r from-gray-600 to-gray-800 hover:from-gray-700 hover:to-gray-900
                   text-white text-sm font-semibold py-2 px-4 rounded-full shadow-lg
                   transform hover:scale-105 transition-all">
      <span class="icon">⬆️</span><span class="label">返回顶部</span>
    </button>
  </div>

  <!-- ✅ QQ 模态弹窗 -->
  <div id="qq-modal" class="fixed inset-0 z-[9999] hidden items-center justify-center bg-black/50 backdrop-blur-sm">
    <div class="bg-gray-900/90 w-full max-w-md max-h-[90vh] overflow-y-auto rounded-lg shadow-xl p-6 relative">

      <!-- 顶部标题 & 关闭 -->
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-white">💬 加入交流群</h2>
        <button onclick="toggleModal(false)" class="text-white text-2xl font-bold">✖</button>
      </div>

      <!-- 群列表 -->
      <div class="space-y-4 text-sm">
        <!-- 群1 -->
        <div class="flex items-center justify-between bg-gray-800/80 p-4 rounded shadow-sm">
          <div>
            <p class="text-white font-medium">主群：交流讨论</p>
            <p class="text-blue-400 cursor-pointer copy-btn" data-qq="879991141">879991141（点击复制）</p>
          </div>
          <img onclick="showQrModal(this.src)" src="static/qrcode_1.webp" class="w-16 h-16 rounded cursor-pointer" />
        </div>

        <!-- 群2 -->
        <div class="flex items-center justify-between bg-gray-800/80 p-4 rounded shadow-sm">
          <div>
            <p class="text-white font-medium">二群：资源分发（已满）</p>
            <p class="text-blue-400 cursor-pointer copy-btn" data-qq="868321488">868321488（点击复制）</p>
          </div>
          <img onclick="showQrModal(this.src)" src="static/qrcode_2.webp" class="w-16 h-16 rounded cursor-pointer" />
        </div>

        <!-- 群3 -->
        <div class="flex items-center justify-between bg-gray-800/80 p-4 rounded shadow-sm">
          <div>
            <p class="text-white font-medium">三群：资源分发</p>
            <p class="text-blue-400 cursor-pointer copy-btn" data-qq="1030926260">1030926260（点击复制）</p>
          </div>
          <img onclick="showQrModal(this.src)" src="static/qrcode_3.webp" class="w-16 h-16 rounded cursor-pointer" />
        </div>
      </div>
    </div>
  </div>

  <!-- ███  二维码模态框  ███ -->
  <div id="qr-modal" class="fixed inset-0 z-[9999] bg-black bg-opacity-70 hidden items-center justify-center p-4"
    onclick="hideQrModal()">
    <img id="qr-modal-img" src="" alt="二维码预览" class="max-w-full max-h-full rounded-lg shadow-lg border-4 border-white"
      onclick="event.stopPropagation()" />
    <button onclick="hideQrModal()" class="absolute top-4 right-4 text-white text-2xl font-bold">✖</button>
  </div>

  <script>
    /* 复制 QQ */
    document.querySelectorAll(".copy-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const qq = btn.dataset.qq;
        navigator.clipboard.writeText(qq).then(() => {
          const original = btn.textContent;
          btn.textContent = "✅ 已复制";
          setTimeout(() => {
            btn.textContent = original;
          }, 2000);
        });
      });
    });


    /* 打开二维码模态框 */
    function showQrModal(src) {
      const modal = document.getElementById('qr-modal');
      const img = document.getElementById('qr-modal-img');
      img.src = src;
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }

    function toggleModal(show) {
      const modal = document.getElementById('qq-modal');
      modal.classList.toggle('hidden', !show);
      modal.classList.toggle('flex', show);
    }

    /* 关闭二维码模态框 */
    function hideQrModal() {
      const modal = document.getElementById('qr-modal');
      modal.classList.remove('flex');
      modal.classList.add('hidden');
    }

    document.addEventListener("DOMContentLoaded", () => {
      const toggleWrap = document.getElementById("qq-toggle");
      let hideTimer = null;
      let scrolling = false;   // 用于检测惯性滚动

      /* ====== 封装几个辅助函数 ====== */
      const showButtons = () => toggleWrap.classList.remove("compact");
      const hideButtons = () => toggleWrap.classList.add("compact");

      /* -------- 在任何交互时立即显示完整按钮 -------- */
      ["touchstart", "mousedown"].forEach(ev =>
        document.addEventListener(ev, () => {
          showButtons();
          if (hideTimer) clearTimeout(hideTimer);
        }, { passive: true })
      );

      /* -------- 监听滚动 / 惯性滚动停止 -------- */
      window.addEventListener("scroll", () => {
        showButtons();
        scrolling = true;
        if (hideTimer) clearTimeout(hideTimer);

        // 300 ms 后若没有继续滚动，视为滚动停止
        hideTimer = setTimeout(() => {
          scrolling = false;
          scheduleCompact();
        }, 300);
      }, { passive: true });

      /* -------- 手指离开屏幕后可能还有惯性滚动 -------- */
      ["touchend", "mouseup"].forEach(ev =>
        document.addEventListener(ev, () => {
          // 触摸结束时如果已经停止滚动，就直接开始 3 秒倒计时
          if (!scrolling) scheduleCompact();
        }, { passive: true })
      );

      /* -------- 倒计时 3 秒后进入 compact -------- */
      function scheduleCompact() {
        if (hideTimer) clearTimeout(hideTimer);
        hideTimer = setTimeout(hideButtons, 3000);  // 3 秒
      }

      /* QQ 群号复制功能 */
      document.querySelectorAll(".copy-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          const qq = btn.dataset.qq;
          navigator.clipboard.writeText(qq).then(() => {
            const textSpan = btn.querySelector(".copy-text");
            const original = textSpan.textContent;
            textSpan.textContent = "✅ 已复制";
            setTimeout(() => {
              textSpan.textContent = original;
            }, 2000);
          });
        });
      });
    });
  </script>
</body>

</html>